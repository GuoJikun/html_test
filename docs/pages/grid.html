<!DOCTYPE html>
<html lang="zh">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>宫格布局</title>
    <link rel="stylesheet" href="/main.css">
    <style>
        .wrap {
            width: 60vw;
            display: flex;
            flex-wrap: wrap;
            margin: 24px auto;
        }

        .wrap-item {
            width: 33.33333%;
            background-color: var(--color-primary);
            display: table-cell;
            border-collapse: collapse;
            box-sizing: border-box;
            overflow: hidden;
            color: white;
        }

        .wrap-item:nth-child(even) {
            background-color: var(--color-success);
        }

        .btn {
            margin: 8vh auto 0;
            width: 60vw;
        }
    </style>
  <script type="module" crossorigin src="/assets/modulepreload-polyfill.c7c6310f.js"></script>
  <script type="module" crossorigin src="/assets/main.30cdc01e.js"></script>
</head>

<body>

    <div class="btn">
        <ivy-back class="margin-bottom"></ivy-back>
        <ivy-button class="btn1">宽高比1/1(默认)</ivy-button>
        <ivy-button class="btn2">宽高比16/9</ivy-button>
        <ivy-button class="btn3">宽高比4/3</ivy-button>
        <span>改变容器宽度高度会等比改变</span>
    </div>

    <div class="wrap">
        <div class="wrap-item">
            这就对了JFK辣椒水打开链接就爱上了的看风景卢卡斯大加快了房间里可是大家雷锋精神了大家看附件斯大林就附件是大陆空军拉开圣诞节爱看吉萨劳动节快乐就JFK绿豆沙考虑就是垃圾付款就打算离开就看来是多久啊开了房间数量大减法律解释打开了积分拉开圣诞节爱看洛杉矶打开了角度上来看范德萨发生的幅度萨芬十大富士达富士达范德萨富士达富士达范德萨富士达法大师傅的萨芬十大发射点十大阿斯顿发生
        </div>
        <div class="wrap-item">2</div>
        <div class="wrap-item">3</div>
        <div class="wrap-item">4</div>
        <div class="wrap-item">5打发士大夫撒打发士大夫撒旦发生的发生的富士达范德萨撒旦法撒旦发士大夫的撒发大水发生的萨芬阿斯顿 大撒反对撒阿斯顿</div>
    </div>
</body>


<script>
    let map = {
        w: 1,
        h: 1
    }
    const children = document.querySelectorAll('.wrap-item');
    function init(w = 1, h = 1) {
        const width = document.querySelector('.wrap').getBoundingClientRect().width;
        const itemHeight = width / 3;
        children.forEach(el => {
            el.style.height = `${itemHeight / w * h}px`
        })
    }
    init(map.w, map.h)
    window.addEventListener('resize', ev => {
        requestAnimationFrame(() => init(map.w, map.h))
    })

    document.querySelector(".btn1").addEventListener('click', () => {
        map.w = 1
        map.h = 1
        init(map.w, map.h)
    })
    document.querySelector(".btn2").addEventListener('click', () => {
        map.w = 16
        map.h = 9
        init(map.w, map.h)
    })
    document.querySelector(".btn3").addEventListener('click', () => {
        map.w = 4
        map.h = 3
        init(map.w, map.h)
    })

</script>

</html>
