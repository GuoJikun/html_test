<!DOCTYPE html>
<html lang="zh">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Input</title>
    <link rel="stylesheet" href="/main.css">
  <script type="module" crossorigin src="/assets/modulepreload-polyfill.c7c6310f.js"></script>
  <script type="module" crossorigin src="/assets/main.30cdc01e.js"></script>
</head>

<body>
    <div class="page-container">
        <ivy-back></ivy-back>
        <input id="text" type="text" style="width: 400px;height: 40px;">
    </div>
</body>

<script>
    let flag = false
    const textEle = document.querySelector("#text");
    const search = (val) => {
        console.log('input:', val)
    }
    textEle.addEventListener('input', ev => {
        if (!flag) {
            search(ev.target.value)
        }
    })

    textEle.addEventListener('compositionstart', (ev) => {
        flag = true;
        console.log('compositionstart:', ev.target.value)
    })
    textEle.addEventListener('compositionupdate', (ev) => {
        console.log('compositionupdate:', ev.target.value)
    })
    textEle.addEventListener('compositionend', (ev) => {
        flag = false;
        console.log('compositionend:', ev.target.value)
        search(ev.target.value)
    })
</script>

</html>
